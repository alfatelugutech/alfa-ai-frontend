
<!DOCTYPE html>
<html>
<head>
  <title>Zerodha Login</title>
</head>
<body style="background-color: #333; color: white; font-family: Arial; padding: 20px;">
  <h1>Zerodha Login</h1>
  <button onclick="triggerLogin()">Login to Zerodha</button>

  <script>
    function triggerLogin() {
      alert('Login triggered. Check backend.');
      fetch('https://alfa-ai-backend-6j6d.onrender.com/api/zerodha/login', {
        method: 'POST'
      })
      .then(response => {
        if (!response.ok) throw new Error("Network response was not ok");
        return response.json();
      })
      .then(data => {
        if (data.login_url) {
          window.location.href = data.login_url;
        } else {
          alert("Login URL not received.");
        }
      })
      .catch(error => {
        console.error("Login error:", error);
        alert("Login failed.");
      });
    }
  </script>
</body>
</html>
